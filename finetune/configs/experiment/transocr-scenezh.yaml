# @package _global_
defaults:
  - override /model: transocr
  - override /charset: 6623_chinese
  - override /dataset: scenezh
  
model:
  img_size: [ 32, 400 ]  # [ height, width ]
  max_label_length: 40
  patch_size: [ 4, 4 ]
  parseq_pretrained: False
  parseq_checkpoint: /home/gaoz/output/flip/flipae_vit_base_patch16_dec256d4b-20e/checkpoint-10.pth
  encoder_pretrained: True
  encoder_checkpoint: /home/sist/zuangao/output/hybird-mul-zh-8gpu96bv2/checkpoint-19.pth
  batch_size: 128


data:
  _target_: strhub.data.module.ChineseSceneTextDataModule
  root_dir: /home/sist/zuangao/datasets/zh_data/benchmark_dataset/
  num_workers: 8
  augment: True
  normalize_unicode: False

trainer:
  val_check_interval: 100
  max_epochs: 100
  accelerator: gpu
  devices: 1


exp_name: transocr-1A100-128-scenezh-4x4-aug-prezh-re71

hydra:
  output_subdir: config
  run:
    dir: /home/sist/zuangao/outputs/${model.name}/${exp_name}/${now:%Y-%m-%d}_${now:%H-%M-%S}
  sweep:
    dir: /home/sist/zuangao/multirun/${model.name}/${now:%Y-%m-%d}_${now:%H-%M-%S}
    subdir: ${hydra.job.override_dirname}

